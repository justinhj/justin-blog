---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getPopularPosts, getPostUrl } from '../utils/posts';

const posts = await getPopularPosts();
---

<BaseLayout title="Popular Posts">
  <h2 class="text-2xl font-bold mb-6">Popular Posts</h2>

  {posts.length === 0 ? (
    <p class="text-light-text-secondary dark:text-dark-text-secondary">
      No popular posts yet. Posts tagged with "popular" will appear here.
    </p>
  ) : (
    <div class="space-y-4">
      {posts.map((post) => (
        <PostCard
          title={post.data.title}
          date={post.data.date}
          tags={post.data.tags}
          url={getPostUrl(post)}
          excerpt={post.data.description}
        />
      ))}
    </div>
  )}
</BaseLayout>
