---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getSortedPosts, getPostUrl } from '../utils/posts';

const posts = await getSortedPosts();
---

<BaseLayout title="Posts">
  <h2 class="text-xl font-bold mb-6">Posts</h2>

  {posts.length === 0 ? (
    <p class="text-light-text-secondary dark:text-dark-text-secondary">No posts yet.</p>
  ) : (
    <div>
      {posts.map((post) => (
        <PostCard
          title={post.data.title}
          date={post.data.date}
          tags={post.data.tags}
          url={getPostUrl(post)}
          excerpt={post.data.description}
        />
      ))}
    </div>
  )}
</BaseLayout>
