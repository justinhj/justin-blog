---
import TagBadge from './TagBadge.astro';
import { format } from 'date-fns';

interface Props {
  title: string;
  date: Date;
  tags: string[];
  url: string;
  excerpt?: string;
}

const { title, date, tags, url, excerpt } = Astro.props;
const formattedDate = format(date, 'MMM dd, yyyy');
---

<article class="bg-light-card dark:bg-dark-card border border-light-border dark:border-none rounded-lg p-6 mb-8 transition-colors hover:shadow-md">
  <time class="text-sm text-light-text-secondary dark:text-dark-text-secondary">
    {formattedDate}
  </time>
  <h2 class="text-2xl font-semibold mt-1 mb-2">
    <a href={url} class="text-light-text dark:text-dark-text hover:text-light-link dark:hover:text-dark-link">
      {title}
    </a>
  </h2>
  {excerpt && (
    <p class="text-light-text-secondary dark:text-dark-text-secondary text-sm mb-3 line-clamp-2">
      {excerpt}
    </p>
  )}
  {tags.length > 0 && (
    <div class="flex flex-wrap gap-1.5 mt-3">
      {tags.map((tag) => (
        <TagBadge tag={tag} />
      ))}
    </div>
  )}
</article>
